# 路由

执行下面的代码，解析 URL 对象。

```javascript
let url = new URL('http://localhost:9000/home?foo=bar&baz=qux');
console.log(url.pathname);
console.log(url.searchParams.get('foo'));
console.log(url.searchParams.get('baz'));
```

执行下面的代码，创建 HTTP 路由。

```javascript
const http = require('http');
const server = http.createServer((req, res) => {
	res.end('Hello Node.js!');
});
server.listen(9000, () => {
	console.log('Server is running.');
});
```

执行下面的代码，获取请求头相关信息。

```javascript
const http = require('http');
const server = http.createServer((req, res) => {
	console.log(req.method);
	console.log(req.url);
	console.log(req.httpVersion);
	console.log(req.headers);
	res.end('Hello Node.js!');
});
server.listen(9000, () => {
	console.log('Server is running.');
});
```

执行下面的代码，获取请求路径。

```javascript
const http = require('http');
const server = http.createServer((req, res) => {
	let url = new URL(req.url, 'http://' + req.headers.host);
	console.log(url);
	console.log(url.pathname);
	res.end('Hello Node.js!');
});
server.listen(9000, () => {
	console.log('Server is running.');
});
```

执行下面的代码，设置响应头相关信息。

```javascript
const http = require('http');
const server = http.createServer((req, res) => {
	res.setHeader('Content-Type', 'text/html;charset=utf-8');
	res.statusCode = 404;
	res.statusMessage = 'OK';
	res.write('哈哈哈哈');
	res.end();
});
server.listen(9000, () => {
	console.log('Server is running.');
});
```

执行下面的代码，通过读取文件内容的方式响应请求。

```javascript
const http = require('http');
const fs = require('fs');
const server = http.createServer((req, res) => {
	let html = fs.readFileSync(__dirname + '/demo.html');
	res.end(html);
});
server.listen(9000, () => {
	console.log('Server is running.');
});
```

